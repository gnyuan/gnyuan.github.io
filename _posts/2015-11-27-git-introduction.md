---
layout: post
title: Git介绍
tags: git Linux Configure
categories: Linux
---


# 简介

如果和大部分介绍一样，一上来就扔一本[《git pro》](http://git.oschina.net/progit/)给你读，那是多么的无趣呀！虽然这本书写得好，但是不利于入门，等你认为git很有趣，想继续探索它的特性时，再捧起这本书吧。现在我们先用5分钟来品尝它。


# git理念

git作为一种版本控制的软件,主要是控制项目进行的流程，无论是设计一款软件，还是写文章、设计模型（由于它强大的查版本间diff功能，给git管理的东西最好是文本形式的），都能体会它带来的好处。

和大多数版本控制软件一样，git也是基于**分支流模型**来设计的。下面，请仔细看此图，master这个branch为默认的主干，在这个branch init项目；接着，创建了branch develop；随着项目的推进，要release一个版本出来了，于是从develop中分出一个版本的项目，作为release版本（即俗称的线上版本、生产版本），而develop流继续走下去；突然生产版本报告了一个bug，于是赶紧从此生产版本中分出一个branch叫hotfix,这个bug修复完后，把此分支merge回release版本，同时，也把此bug修复添加到最新的develop流中。

![git flow]({{site.imgrepo}}/git_flow.jpg)

可以看出，有两点非常重要：

1. 从版本点A开始推进版本（这个推进有可能是修复bug，有可能是继续项目开发，有可能是新特性的探索）。而且要求推进的过程中，如果不顺利，可以很方便地回退到A；或者，想看看目前版本与最初版本点之间的差异（diff）。根据A所在的branch或者给A打的标签(tag,也称作里程碑)，我们能快速找到它。
2. 在新特性分支开发完毕，想合并（merge）回develop分支，此时，有可能别的开发者早就提交了自己的代码，若两者对同一行都有修改会出现冲突（conflict），这时需要处理好冲突，才能合并回去。

# 同类型版本控制工具

那么，git为啥可能比SVN之类的好呢？SVN是集中式的版本控制，典型的工作流程是：要对文件A修改，先update得到最新版的文件A，然后get文件A的lock, 接着修改，最后commit并释放锁。万一SVN数据库丢失了呢？要修复生产版本的bug，同时要开发新特性怎么办呢？

git是分布式的版本控制系统，你clone一个项目到本地后，就相当于把此项目的所有commit log都克隆下来了（解决了集中式版本控制软件服务器丢失则所有数据都有丢失的风险）。我们在本地进行多个分支的开发后，一次过把某个分支push到服务器上（就是鼓励使用者，在本地没有网络时多commit，需要提交时联网，一次过commit自己的工作）。

一句话总结git的好处：
> 创建分支成本极低（仅一个指针的开支）。在branch A拿到一个小任务（修复bug、探索新特性等），为它开（checkout）一个分支，工作完后，合并（merge）回原branch A。


# 基本命令

详细教程见[此处](http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/)

# 协同工作

其实啊，它的精髓是多人协同工作。Linux这个巨复杂的系统，就是世界范围内的开发者通过git协同工作编写出来的。《大教堂与集市》一书的作者说，
> Linus最大的贡献不是写了Linux最早期的内核，而是开创了git这种协同工作模式！

